# Designing a Perceptron Apparatus

```elixir
Mix.install([
  {:perceptron_apparatus, path: "~/Documents/edex/human-scale-ai/perceptron_apparatus"}
])

alias PerceptronApparatus, as: PA
alias PerceptronApparatus.Rings
```

## Build yourself an apparatus

```elixir
log_ring = RuleRing.log_rule() |> RuleRing.new()
relu_ring = RuleRing.relu_rule(10, 0.25) |> RuleRing.new()

input_ring = AzimuthalRing.new({25}, PA.Utils.new_rule(0, 1, 0.1, 0.5))
w1_ring = RadialRing.new({5, 25}, PA.Utils.new_rule(-10, 10, 2, 10))
h1_ring = AzimuthalRing.new({5},  PA.Utils.new_rule(0, 10, 1, 5))
w2_ring = RadialRing.new({10, 5}, PA.Utils.new_rule(-10, 10, 2, 10))
# output_ring = AzimuthalRing.new({10})
output_ring = RadialRing.new({10, 1}, PA.Utils.new_rule(0, 1, 0.1, 0.5))

PA.new(1200)
|> PA.add_ring(log_ring)
|> PA.add_ring(relu_ring)
|> PA.add_ring(input_ring)
|> PA.add_ring(w1_ring)
|> PA.add_ring(h1_ring)
|> PA.add_ring(w2_ring)
|> PA.add_ring(output_ring)
# |> PA.Utils.write_cnc_files!("/Documents/edex/human-scale-ai/perceptron_apparatus", "v1")
|> PA.render([:full, :etch])
|> tap(fn data -> File.write!("/tmp/apparatus-v2.svg", data) end)
|> Kino.HTML.new()
```

## HEEx testing

```elixir
import Phoenix.Component, only: [sigil_H: 2]

test_component = fn assigns ->
  ~H"""
  <p>Hi <%= @name %>.</p>
  """
end

test_component.(%{name: "Mum"})
|> Phoenix.HTML.Safe.to_iodata()
|> Enum.join()
```
